<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="../node_modules/mocha/mocha.css">
    <link rel="stylesheet" href="css/map.css">
</head>
<body>
    <div id="mocha"></div>

    <script src="../node_modules/mocha/mocha.js"></script>
    <script src="../node_modules/chai/chai.js"></script>
    <script src="../node_modules/sinon/pkg/sinon.js"></script>
    <script src="../node_modules/sinon-chai/lib/sinon-chai.js"></script>
    <script src="../node_modules/happen/src/happen.js"></script>
    <script src="lib/bind-shim.js"></script>

    <script>
    if (typeof initMochaPhantomJS === 'function') {
        initMochaPhantomJS()
    }
    </script>

    <!-- include source files here... -->
    <script src='../js/lib/lodash.js'></script>
    <script src='../js/lib/d3.v3.js'></script>
    <script src='../js/lib/jxon.js'></script>
    <script src='../js/lib/d3.combobox.js'></script>
    <script src='../js/lib/d3.geo.tile.js'></script>
    <script src='../js/lib/d3.dimensions.js'></script>
    <script src='../js/lib/d3.trigger.js'></script>
    <script src='../js/lib/d3.jsonp.js'></script>
    <script src='../js/lib/d3.keybinding.js'></script>
    <script src='../js/lib/d3.one.js'></script>
    <script src='../js/lib/d3.value.js'></script>
    <script src='../js/lib/d3-compat.js'></script>
    <script src='../js/lib/bootstrap-tooltip.js'></script>
    <script src='../js/lib/diff3.js'></script>
    <script src='../js/lib/rbush.js'></script>
    <script src='../js/lib/togeojson.js'></script>
    <script src='../js/lib/osmauth.js'></script>

    <script src='../js/id/id.js'></script>
    <script src='../js/id/util.js'></script>

    <script src='../js/id/services.js'></script>
    <script src='../js/id/services/mapillary.js'></script>
    <script src='../js/id/services/nominatim.js'></script>
    <script src='../js/id/services/taginfo.js'></script>
    <script src='../js/id/services/wikipedia.js'></script>

    <script src='../data/data_dev.js'></script>

    <script src="../js/id/geo.js"></script>
    <script src="../js/id/geo/extent.js"></script>
    <script src="../js/id/geo/intersection.js"></script>
    <script src="../js/id/geo/multipolygon.js"></script>
    <script src="../js/id/geo/raw_mercator.js"></script>

    <script src='../js/id/renderer/background.js'></script>
    <script src='../js/id/renderer/background_source.js'></script>
    <script src='../js/id/renderer/features.js'></script>
    <script src='../js/id/renderer/map.js'></script>
    <script src='../js/id/renderer/tile_layer.js'></script>

    <script src="../js/id/svg.js"></script>
    <script src="../js/id/svg/areas.js"></script>
    <script src="../js/id/svg/defs.js"></script>
    <script src='../js/id/svg/gpx.js'></script>
    <script src="../js/id/svg/icon.js"></script>
    <script src="../js/id/svg/labels.js"></script>
    <script src="../js/id/svg/lines.js"></script>
    <script src='../js/id/svg/mapillary_images.js'></script>
    <script src='../js/id/svg/mapillary_signs.js'></script>
    <script src="../js/id/svg/midpoints.js"></script>
    <script src="../js/id/svg/osm.js"></script>
    <script src="../js/id/svg/points.js"></script>
    <script src="../js/id/svg/layers.js"></script>
    <script src="../js/id/svg/tag_classes.js"></script>
    <script src="../js/id/svg/turns.js"></script>
    <script src="../js/id/svg/vertices.js"></script>

    <script src="../js/id/ui.js"></script>
    <script src='../js/id/ui/attribution.js'></script>
    <script src='../js/id/ui/radial_menu.js'></script>
    <script src='../js/id/ui/inspector.js'></script>
    <script src='../js/id/ui/modal.js'></script>
    <script src='../js/id/ui/cmd.js'></script>
    <script src='../js/id/ui/confirm.js'></script>
    <script src='../js/id/ui/conflicts.js'></script>
    <script src='../js/id/ui/commit.js'></script>
    <script src='../js/id/ui/success.js'></script>
    <script src='../js/id/ui/loading.js'></script>
    <script src='../js/id/ui/account.js'></script>
    <script src='../js/id/ui/background.js'></script>
    <script src='../js/id/ui/map_data.js'></script>
    <script src='../js/id/ui/map_in_map.js'></script>
    <script src='../js/id/ui/modes.js'></script>
    <script src='../js/id/ui/contributors.js'></script>
    <script src='../js/id/ui/geolocate.js'></script>
    <script src='../js/id/ui/notice.js'></script>
    <script src='../js/id/ui/flash.js'></script>
    <script src='../js/id/ui/feature_info.js'></script>
    <script src='../js/id/ui/save.js'></script>
    <script src='../js/id/ui/scale.js'></script>
    <script src='../js/id/ui/splash.js'></script>
    <script src='../js/id/ui/restore.js'></script>
    <script src='../js/id/ui/tag_reference.js'></script>
    <script src='../js/id/ui/preset.js'></script>
    <script src='../js/id/ui/preset_icon.js'></script>
    <script src='../js/id/ui/lasso.js'></script>
    <script src='../js/id/ui/source_switch.js'></script>
    <script src='../js/id/ui/toggle.js'></script>
    <script src='../js/id/ui/undo_redo.js'></script>
    <script src='../js/id/ui/zoom.js'></script>
    <script src='../js/id/ui/raw_tag_editor.js'></script>
    <script src='../js/id/ui/raw_membership_editor.js'></script>
    <script src='../js/id/ui/selection_list.js'></script>
    <script src='../js/id/ui/preset_list.js'></script>
    <script src='../js/id/ui/entity_editor.js'></script>
    <script src='../js/id/ui/disclosure.js'></script>
    <script src='../js/id/ui/sidebar.js'></script>

    <script src='../js/id/ui/preset/access.js'></script>
    <script src='../js/id/ui/preset/address.js'></script>
    <script src='../js/id/ui/preset/input.js'></script>
    <script src='../js/id/ui/preset/check.js'></script>
    <script src='../js/id/ui/preset/combo.js'></script>
    <script src='../js/id/ui/preset/localized.js'></script>
    <script src='../js/id/ui/preset/wikipedia.js'></script>

    <script src='../js/id/actions.js'></script>
    <script src='../js/id/actions/add_entity.js'></script>
    <script src='../js/id/actions/add_member.js'></script>
    <script src="../js/id/actions/add_midpoint.js"></script>
    <script src='../js/id/actions/add_vertex.js'></script>
    <script src='../js/id/actions/change_member.js'></script>
    <script src='../js/id/actions/change_preset.js'></script>
    <script src='../js/id/actions/change_tags.js'></script>
    <script src='../js/id/actions/circularize.js'></script>
    <script src='../js/id/actions/connect.js'></script>
    <script src='../js/id/actions/copy_entities.js'></script>
    <script src='../js/id/actions/delete_member.js'></script>
    <script src='../js/id/actions/delete_multiple.js'></script>
    <script src='../js/id/actions/delete_node.js'></script>
    <script src="../js/id/actions/delete_relation.js"></script>
    <script src="../js/id/actions/delete_way.js"></script>
    <script src='../js/id/actions/discard_tags.js'></script>
    <script src='../js/id/actions/disconnect.js'></script>
    <script src='../js/id/actions/join.js'></script>
    <script src='../js/id/actions/merge.js'></script>
    <script src='../js/id/actions/merge_polygon.js'></script>
    <script src='../js/id/actions/merge_remote_changes.js'></script>
    <script src='../js/id/actions/move.js'></script>
    <script src='../js/id/actions/move_node.js'></script>
    <script src='../js/id/actions/noop.js'></script>
    <script src='../js/id/actions/orthogonalize.js'></script>
    <script src='../js/id/actions/restrict_turn.js'></script>
    <script src='../js/id/actions/reverse.js'></script>
    <script src='../js/id/actions/revert.js'></script>
    <script src='../js/id/actions/rotate_way.js'></script>
    <script src='../js/id/actions/split.js'></script>
    <script src='../js/id/actions/straighten.js'></script>
    <script src='../js/id/actions/unrestrict_turn.js'></script>

    <script src='../js/id/behavior.js'></script>
    <script src='../js/id/behavior/add_way.js'></script>
    <script src='../js/id/behavior/breathe.js'></script>
    <script src='../js/id/behavior/copy.js'></script>
    <script src='../js/id/behavior/drag.js'></script>
    <script src='../js/id/behavior/draw.js'></script>
    <script src='../js/id/behavior/draw_way.js'></script>
    <script src='../js/id/behavior/edit.js'></script>
    <script src='../js/id/behavior/hash.js'></script>
    <script src='../js/id/behavior/hover.js'></script>
    <script src='../js/id/behavior/lasso.js'></script>
    <script src='../js/id/behavior/paste.js'></script>
    <script src='../js/id/behavior/select.js'></script>
    <script src='../js/id/behavior/tail.js'></script>

    <script src='../js/id/modes.js'></script>
    <script src='../js/id/modes/add_area.js'></script>
    <script src='../js/id/modes/add_point.js'></script>
    <script src='../js/id/modes/add_line.js'></script>
    <script src='../js/id/modes/browse.js'></script>
    <script src='../js/id/modes/drag_node.js'></script>
    <script src='../js/id/modes/draw_area.js'></script>
    <script src='../js/id/modes/draw_line.js'></script>
    <script src='../js/id/modes/move.js'></script>
    <script src='../js/id/modes/rotate_way.js'></script>
    <script src='../js/id/modes/select.js'></script>

    <script src='../js/id/operations.js'></script>
    <script src='../js/id/operations/continue.js'></script>
    <script src='../js/id/operations/circularize.js'></script>
    <script src='../js/id/operations/orthogonalize.js'></script>
    <script src='../js/id/operations/straighten.js'></script>
    <script src='../js/id/operations/delete.js'></script>
    <script src='../js/id/operations/disconnect.js'></script>
    <script src='../js/id/operations/merge.js'></script>
    <script src='../js/id/operations/move.js'></script>
    <script src='../js/id/operations/rotate.js'></script>
    <script src='../js/id/operations/reverse.js'></script>
    <script src='../js/id/operations/split.js'></script>

    <script src='../js/id/core/connection.js'></script>
    <script src='../js/id/core/difference.js'></script>
    <script src='../js/id/core/entity.js'></script>
    <script src='../js/id/core/graph.js'></script>
    <script src='../js/id/core/history.js'></script>
    <script src='../js/id/core/node.js'></script>
    <script src='../js/id/core/relation.js'></script>
    <script src='../js/id/core/way.js'></script>
    <script src='../js/id/core/tree.js'></script>
    <script src='../js/id/core/tags.js'></script>

    <script src='../js/id/presets.js'></script>
    <script src='../js/id/presets/preset.js'></script>
    <script src='../js/id/presets/category.js'></script>
    <script src='../js/id/presets/collection.js'></script>
    <script src='../js/id/presets/field.js'></script>

    <script src='../js/id/util/session_mutex.js'></script>
    <script src='../js/id/util/suggest_names.js'></script>

    <script src='../js/id/validations.js'></script>
    <script src='../js/id/validations/deprecated_tag.js'></script>
    <script src='../js/id/validations/many_deletions.js'></script>
    <script src='../js/id/validations/missing_tag.js'></script>
    <script src='../js/id/validations/tag_suggests_area.js'></script>

    <script src='../js/lib/locale.js'></script>

    <script src="spec/spec_helpers.js"></script>

    <!-- include spec files here... -->
    <script src="spec/lib/d3.combobox.js"></script>
    <script src="spec/lib/d3.keybinding.js"></script>
    <script src="spec/lib/diff3.js"></script>
    <script src="spec/lib/locale.js"></script>

    <script src="spec/actions/add_member.js"></script>
    <script src="spec/actions/add_midpoint.js"></script>
    <script src="spec/actions/add_entity.js"></script>
    <script src="spec/actions/change_member.js"></script>
    <script src="spec/actions/change_preset.js"></script>
    <script src="spec/actions/change_tags.js"></script>
    <script src='spec/actions/circularize.js'></script>
    <script src='spec/actions/orthogonalize.js'></script>
    <script src='spec/actions/straighten.js'></script>
    <script src='spec/actions/connect.js'></script>
    <script src="spec/actions/copy_entities.js"></script>
    <script src='spec/actions/delete_member.js'></script>
    <script src="spec/actions/delete_multiple.js"></script>
    <script src="spec/actions/delete_node.js"></script>
    <script src="spec/actions/delete_relation.js"></script>
    <script src="spec/actions/delete_way.js"></script>
    <script src='spec/actions/discard_tags.js'></script>
    <script src='spec/actions/disconnect.js'></script>
    <script src="spec/actions/join.js"></script>
    <script src='spec/actions/merge.js'></script>
    <script src="spec/actions/merge_polygon.js"></script>
    <script src="spec/actions/merge_remote_changes.js"></script>
    <script src="spec/actions/move_node.js"></script>
    <script src="spec/actions/move.js"></script>
    <script src="spec/actions/noop.js"></script>
    <script src="spec/actions/restrict_turn.js"></script>
    <script src="spec/actions/reverse.js"></script>
    <script src="spec/actions/revert.js"></script>
    <script src="spec/actions/split.js"></script>
    <script src="spec/actions/unrestrict_turn.js"></script>

    <script src="spec/geo.js"></script>
    <script src="spec/geo/extent.js"></script>
    <script src="spec/geo/intersection.js"></script>
    <script src="spec/geo/multipolygon.js"></script>

    <script src="spec/core/connection.js"></script>
    <script src="spec/core/graph.js"></script>
    <script src="spec/core/entity.js"></script>
    <script src="spec/core/node.js"></script>
    <script src="spec/core/way.js"></script>
    <script src="spec/core/relation.js"></script>
    <script src="spec/core/history.js"></script>
    <script src="spec/core/difference.js"></script>
    <script src="spec/core/tree.js"></script>

    <script src="spec/renderer/tile_layer.js"></script>
    <script src="spec/renderer/background_source.js"></script>
    <script src="spec/renderer/features.js"></script>
    <script src="spec/renderer/map.js"></script>

    <script src="spec/svg.js"></script>
    <script src="spec/svg/areas.js"></script>
    <script src="spec/svg/icon.js"></script>
    <script src="spec/svg/lines.js"></script>
    <script src="spec/svg/midpoints.js"></script>
    <script src="spec/svg/points.js"></script>
    <script src="spec/svg/vertices.js"></script>
    <script src="spec/svg/tag_classes.js"></script>

    <script src="spec/ui/inspector.js"></script>
    <script src="spec/ui/raw_tag_editor.js"></script>
    <script src="spec/ui/modal.js"></script>
    <script src="spec/ui/flash.js"></script>
    <script src="spec/ui/confirm.js"></script>
    <script src="spec/ui/cmd.js"></script>

    <script src="spec/ui/preset/access.js"></script>
    <script src="spec/ui/preset/localized.js"></script>
    <script src="spec/ui/preset/wikipedia.js"></script>

    <script src="spec/services/mapillary.js"></script>
    <script src="spec/services/nominatim.js"></script>
    <script src="spec/services/taginfo.js"></script>

    <script src="spec/util.js"></script>
    <script src='spec/util/session_mutex.js'></script>
    <script src='spec/util/suggest_names.js'></script>

    <script src="spec/behavior/hash.js"></script>
    <script src="spec/behavior/hover.js"></script>
    <script src="spec/behavior/select.js"></script>
    <script src="spec/behavior/lasso.js"></script>

    <script src="spec/modes/add_point.js"></script>

    <script src="spec/presets.js"></script>
    <script src="spec/presets/preset.js"></script>
    <script src="spec/presets/collection.js"></script>
    <script src="spec/presets/category.js"></script>
    <script src="spec/id.js"></script>

    <script>
        iD.data.load('../', function() {
            window.mocha.run();
        });
    </script>
</body>
</html>
